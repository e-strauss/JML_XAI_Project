<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Important Functions · JML_XAI_Project.jl</title><meta name="title" content="Important Functions · JML_XAI_Project.jl"/><meta property="og:title" content="Important Functions · JML_XAI_Project.jl"/><meta property="twitter:title" content="Important Functions · JML_XAI_Project.jl"/><meta name="description" content="Documentation for JML_XAI_Project.jl."/><meta property="og:description" content="Documentation for JML_XAI_Project.jl."/><meta property="twitter:description" content="Documentation for JML_XAI_Project.jl."/><meta property="og:url" content="https://e-strauss.github.io/JML_XAI_Project.jl/api/"/><meta property="twitter:url" content="https://e-strauss.github.io/JML_XAI_Project.jl/api/"/><link rel="canonical" href="https://e-strauss.github.io/JML_XAI_Project.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JML_XAI_Project.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../lime/">Lime</a></li><li><a class="tocitem" href="../shap/">SHAP</a></li></ul></li><li class="is-active"><a class="tocitem" href>Important Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Important Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Important Functions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/e-strauss/JML_XAI_Project" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/e-strauss/JML_XAI_Project/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Base-Functions"><a class="docs-heading-anchor" href="#Base-Functions">Base Functions</a><a id="Base-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Base-Functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.LIME" href="#JML_XAI_Project.LIME"><code>JML_XAI_Project.LIME</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct LIME{M} &lt;: AbstractXAIMethod</code></pre><p>The <code>LIME</code> (Local Interpretable Model-agnostic Explanations) struct is used to create an instance of the LIME method for explainable AI (XAI). This method provides local explanations for the predictions of any machine learning model by approximating the model&#39;s behavior in the vicinity of a specific input.</p><p><strong>Fields</strong></p><ul><li><code>model::M</code>: The machine learning model to be explained. The model should be callable with an input to produce an output.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime.jl#L5-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.data_labels" href="#JML_XAI_Project.data_labels"><code>JML_XAI_Project.data_labels</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Generates perturbed versions of a given image by turning superpixels on or off,using a specified  segmentation map. It then predicts the class probabilities for these perturbed images using a provided  classifier function. The function returns a tuple containing the binary matrix of perturbed images (data)  and their corresponding prediction probabilities (labels). This is useful for techniques like LIME to  understand and explain model predictions locally.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-image.jl#L146-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.default_segmentation_function-Tuple{String}" href="#JML_XAI_Project.default_segmentation_function-Tuple{String}"><code>JML_XAI_Project.default_segmentation_function</code></a> — <span class="docstring-category">Method</span></header><section><div><p>return image segmantation function, if no function was passed originally based on Scikit-Image implementation julia adaptations:</p><p>quickshift</p><ul><li>package: ??? (docs: ???)</li><li>explaination: ???</li><li>python packages can be used in julia, it&#39;s therefore possible to use the scikit-image library if desired</li></ul><p>slic</p><ul><li>code: https://github.com/Cuda-Chen/SLIC.jl/tree/master (docs: NOT EVEN AN INOFFICIAL PACKAGE)</li><li>code seems to work, but spelling mistakes in the original and takes forever</li><li>explaination: https://cuda-chen.github.io/image%20processing/2020/07/29/slic-in-julia.html</li></ul><p>felzenszwalb</p><ul><li>package: ImageSegmentation (docs: https://juliaimages.org/v0.21/imagesegmentation/)</li><li>explaination: https://www.analyticsvidhya.com/blog/2021/05/image-segmentation-with-felzenszwalbs-algorithm/</li></ul><p>comparision: https://scikit-image.org/docs/stable/auto<em>examples/segmentation/plot</em>segmentations.html</p><p>Args:     algo<em>type: string, segmentation algorithm among the following:         &#39;quickshift&#39;, &#39;slic&#39;, &#39;felzenszwalb&#39;     target</em>params: dict, algorithm parameters (valid model paramters         as define in Scikit-Image documentation)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-image.jl#L103-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.euclidian_distance-Tuple{Any, Any}" href="#JML_XAI_Project.euclidian_distance-Tuple{Any, Any}"><code>JML_XAI_Project.euclidian_distance</code></a> — <span class="docstring-category">Method</span></header><section><div><p>calculates the euclidian distance between each column vector in input matrix A and the column vectors in input matrix B</p><p>Args:     A:  matrix (m,n)     B:  matrix (m,n) or (1,n) Returns:     distance: 1-d array of distances</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-image.jl#L227-L235">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.explain_instance" href="#JML_XAI_Project.explain_instance"><code>JML_XAI_Project.explain_instance</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Generates explanations for a prediction.</p><p>First, we generate neighborhood data by randomly perturbing features from the instance (see __data<em>inverse). We then learn locally weighted linear models on this neighborhood data to explain each of the classes in an interpretable way (see lime</em>base.py).</p><p>Args:     image: 3 dimension RGB image. If this is only two dimensional,         we will assume it&#39;s a grayscale image and call gray2rgb.     classifier<em>fn: classifier prediction probability function, which         takes a numpy array and outputs prediction probabilities.  For         ScikitClassifiers , this is classifier.predict</em>proba.     labels: iterable with labels to be explained.     hide<em>color: If not None, will hide superpixels with this color.         Otherwise, use the mean pixel color of the image.     top</em>labels: if not None, ignore labels and produce explanations for         the K labels with highest prediction probabilities, where K is         this parameter.     num<em>features: maximum number of features present in explanation     num</em>samples: size of the neighborhood to learn the linear model     batch<em>size: batch size for model predictions     distance</em>metric: the distance metric to use for weights.     model<em>regressor: sklearn regressor to use in explanation. Defaults     to Ridge regression in LimeBase. Must have model</em>regressor.coef_     and &#39;sample<em>weight&#39; as a parameter to model</em>regressor.fit()     segmentation<em>fn: SegmentationAlgorithm, wrapped skimage     segmentation function     random</em>seed: integer used as random seed for the segmentation         algorithm. If None, a random integer, between 0 and 1000,         will be generated using the internal random number generator.</p><p>Returns:     An ImageExplanation object (see lime_image.py) with the corresponding     explanations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-image.jl#L4-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.explain_instance_with_data" href="#JML_XAI_Project.explain_instance_with_data"><code>JML_XAI_Project.explain_instance_with_data</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Takes perturbed data, labels and distances, returns explanation.</p><p><strong>Parameters</strong></p><ul><li><code>neighborhood_data</code>: perturbed data</li><li><code>neighborhood_labels</code>: corresponding perturbed labels. should have as many columns as the number of possible labels.</li><li><code>distances</code>: distances to original data point.</li><li><code>kernel_fn</code>: (similiarity) kernel function that transforms an array of distances into an array of proximity values (floats)</li><li><code>label</code>: label for which we want an explanation</li><li><code>num_features</code>: maximum number of features in explanation</li><li><code>model_regressor</code>: sklearn regressor to use in explanation. Defaults to Ridge regression if None. Must have model<em>regressor.coef</em> and &#39;sample<em>weight&#39; as a parameter to model</em>regressor.fit()</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-base.jl#L98-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.feature_selection-Tuple{Any, Any, Any}" href="#JML_XAI_Project.feature_selection-Tuple{Any, Any, Any}"><code>JML_XAI_Project.feature_selection</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_selection(X::Matrix, y::Vector, max_feat::Int) -&gt; ReturnType</code></pre><p>Selects features for the model using LARS with Lasso [https://tibshirani.su.domains/ftp/lars.pdf] s.t. len(selected<em>features) &lt;= max</em>feat Use LARS package: https://github.com/simonster/LARS.jl</p><p>Python reference: nonzero = range(weighted<em>data.shape[1]) coefs = generate</em>lars<em>path(X, y) for i in range(len(coefs.T) - 1, 0, -1):     nonzero = coefs.T[i].nonzero()[0]     if len(nonzero) &lt;= num</em>features:         return nonzero</p><p><strong>Parameters</strong></p><ul><li><code>X</code>: weighted feature</li><li><code>y</code>: weighted labels</li></ul><p><strong>Returns</strong></p><ul><li>indices of selected features</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-base.jl#L47-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.sample_data-Tuple{Any, Any}" href="#JML_XAI_Project.sample_data-Tuple{Any, Any}"><code>JML_XAI_Project.sample_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sample_data(x0::Vector, x0_pertubed::Vector, H, D, model)</code></pre><p>Returns the neighborhood_data (perturbed data, first element is the original data point) by sampling around x0  and evaluate the model to generate the corresponding perturbed labels.</p><p>Citation from Paper [https://arxiv.org/pdf/1602.04938]: We sample instances around x0<em>pertubed by drawing nonzero elements of x0</em>pertubed uniformly at random (where the number of such draws is also uniformly sampled). We sample instances both in the vicinity of x0 and far away from x (measured by the distance metric).</p><p><strong>Parameters</strong></p><ul><li><code>x0</code>: original input</li><li><code>x0_pertubed</code>: interpretable representation of original input</li><li><code>H</code>: interpretable representation mapping function, s.t. h(x0_pertubed) = x0</li><li><code>D</code>: distance metric which calculates the distance of two points in the origial, non-interpretable space</li><li><code>model</code>: model which works on the non-interpretable original input</li></ul><p><strong>Returns</strong></p><ul><li><code>neighborhood_data</code>: sampled perturbed data (first element is x0_pertubed)</li><li><code>neighborhood_labels</code>: corresponding perturbed calculated by the model and mapping function H</li><li><code>distances</code>: distances of each sampled point to original data point calculated using the distance metric D and mapping function H</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-base.jl#L5-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.train_ridge_regressor-Tuple{Any, Any}" href="#JML_XAI_Project.train_ridge_regressor-Tuple{Any, Any}"><code>JML_XAI_Project.train_ridge_regressor</code></a> — <span class="docstring-category">Method</span></header><section><div><p>train<em>ridge</em>regressor(X::Matrix, y::Vector, weights::Vector)</p><p>Returns the trained simplified linear model using ridge regression: model = Ridge(alpha=1, fit<em>intercept=True, random</em>state=self.random<em>state) model.fit(X,y, sample</em>weight=weights) return model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-base.jl#L79-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JML_XAI_Project.weighted_data-Tuple{Any, Any, Any}" href="#JML_XAI_Project.weighted_data-Tuple{Any, Any, Any}"><code>JML_XAI_Project.weighted_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">normalize_data(X::Matrix, y::Vector, weights::Vector)</code></pre><p>Returns the weight normalization of X (data) and y (label) using the weight vector y. X<em>norm = ((X - np.average(X, axis=0, weights=weights)) * np.sqrt(weights[:, np.newaxis])) Y</em>norm = ((y - np.average(y, weights=weights)) * np.sqrt(weights))</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/e-strauss/JML_XAI_Project/blob/c2149497c34f01589bb7c11328491617eb1c0872/src/Lime-base.jl#L32-L38">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../shap/">« SHAP</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Monday 1 July 2024 21:45">Monday 1 July 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
